import{d as H,r as w,w as D,o as E,n as q,a as _,b as c,c as v,e as ee,f as $,g as e,t as d,h as L,F as C,i as se,j as m,k as z,l as N,v as A,m as W,p as B}from"./index-C7xtH_U3.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te=["aria-valuenow","aria-valuemin","aria-valuemax","aria-label"],oe=["width","height","viewBox"],ae=["r","stroke-width"],le=["r","stroke","stroke-width","stroke-dasharray","stroke-linecap","transform"],ne=["transform"],re={key:0,class:"progress-center-slot"},U=100,ue=H({__name:"CircularProgressBar",props:{modelValue:{default:0},min:{default:0},max:{default:100},status:{default:"inProgress"},type:{default:"circle"},size:{default:120},strokeWidth:{default:8},showText:{type:Boolean,default:!0},showStatusIcon:{type:Boolean,default:!0},textFormat:{default:"percentage"},customText:{default:""},animationDuration:{default:800},ariaLabel:{default:""},color:{default:""},backgroundColor:{default:"#e5e7eb"},hideTextForStatus:{type:Boolean,default:!1}},emits:["update:modelValue","statusChange","animationComplete"],setup(r,{expose:b,emit:x}){const t=r,a=x,g=w(t.modelValue),p=w(t.modelValue),h=w(null),P=w(null),u=U/2,T=m(()=>{const n=u-t.strokeWidth/2;return Math.max(5,n)}),f=m(()=>2*Math.PI*T.value),s=m(()=>t.type==="dashboard"?-225:0),l=m(()=>t.type==="dashboard"?"round":"butt"),k=m(()=>{const n=t.max-t.min;if(n===0)return 0;const i=(Math.min(Math.max(t.modelValue,t.min),t.max)-t.min)/n*100;return isNaN(i)?0:i}),G=m(()=>{if(t.type==="dashboard"){const o=f.value*.75;return`${k.value/100*o} ${f.value}`}return`${k.value/100*f.value} ${f.value}`}),Z=m(()=>t.textFormat==="custom"&&t.customText?t.customText:t.textFormat==="value"?`${Math.round(t.modelValue)}`:`${Math.round(g.value)}%`),M=m(()=>{if(t.color)return t.color;if(t.status!=="inProgress")return{success:"#10b981",warning:"#f59e0b",error:"#ef4444"}[t.status]||"#3b82f6";const n=g.value;let o,i;return n<50?(o=255,i=Math.round(5.1*n)):(o=Math.round(510-5.1*n),i=255),`rgb(${o}, ${i}, 0)`}),J=m(()=>t.backgroundColor),V=()=>{P.value&&(P.value.style.stroke=M.value)},j=(n,o,i)=>{h.value&&cancelAnimationFrame(h.value);const I=performance.now(),S=n,K=o-S,O=Q=>{const X=Q-I,y=Math.min(X/i,1),Y=y<.5?4*y*y*y:1-Math.pow(-2*y+2,3)/2;g.value=S+K*Y,p.value=Math.round(g.value),V(),y<1?h.value=requestAnimationFrame(O):(g.value=o,p.value=Math.round(o),h.value=null,V(),a("animationComplete",o))};h.value=requestAnimationFrame(O)};return D(()=>t.modelValue,(n,o)=>{const i=((o??0)-t.min)/(t.max-t.min)*100,I=(n-t.min)/(t.max-t.min)*100||0;j(i,I,t.animationDuration)},{immediate:!0}),D(()=>t.status,(n,o)=>{a("statusChange",{newStatus:n,oldStatus:o})}),D(M,(n,o)=>{q(()=>{V()})},{immediate:!0}),E(()=>{g.value=k.value,p.value=Math.round(k.value),q(V),setTimeout(V,100)}),_(()=>{h.value&&cancelAnimationFrame(h.value)}),b({getCurrentValue:()=>p.value,getCurrentColor:()=>M.value,animateTo:(n,o)=>{const i=(n-t.min)/(t.max-t.min)*100;j(g.value,i,o||t.animationDuration)}}),(n,o)=>(c(),v("div",{class:$(["circular-progress-bar",`status--${r.status} type--${r.type}`]),role:"progressbar","aria-valuenow":p.value,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-label":r.ariaLabel||`Progress: ${p.value}%`,style:ee({"--progress-bg":J.value,"--size":`${r.size}px`})},[(c(),v("svg",{width:r.size,height:r.size,viewBox:`0 0 ${U} ${U}`,class:"progress-svg"},[e("circle",{class:"progress-background",cx:u,cy:u,r:T.value,"stroke-width":r.strokeWidth,fill:"none"},null,8,ae),e("circle",{cx:u,cy:u,r:T.value,fill:"none",stroke:M.value,"stroke-width":r.strokeWidth,"stroke-dasharray":G.value,"stroke-linecap":l.value,transform:`rotate(${s.value} ${u} ${u})`},null,8,le),r.showText&&!r.hideTextForStatus?(c(),v("text",{key:0,x:u,y:u,"text-anchor":"middle","dominant-baseline":"central",class:"progress-text"},d(Z.value),1)):L("",!0),r.showStatusIcon&&r.status!=="inProgress"&&!r.showText?(c(),v("g",{key:1,transform:`translate(${u}, ${u})`,class:"status-icon"},[r.status==="success"?(c(),v(C,{key:0},[o[0]||(o[0]=e("circle",{cx:"0",cy:"0",r:"16",fill:"#10b981"},null,-1)),o[1]||(o[1]=e("path",{d:"M -6 -2 L -2 2 L 6 -6",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",transform:"rotate(45)"},null,-1)),o[2]||(o[2]=e("path",{d:"M -6 4 L -2 8 L 6 0",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",transform:"rotate(45)"},null,-1))],64)):r.status==="warning"?(c(),v(C,{key:1},[o[3]||(o[3]=e("path",{d:"M 0 -12 L 10 8 L -10 8 Z",fill:"#f59e0b"},null,-1)),o[4]||(o[4]=e("circle",{cx:"0",cy:"4",r:"1.5",fill:"white"},null,-1)),o[5]||(o[5]=e("rect",{x:"-1",y:"6",width:"2",height:"3",fill:"white",rx:"0.5"},null,-1))],64)):r.status==="error"?(c(),v(C,{key:2},[o[6]||(o[6]=e("circle",{cx:"0",cy:"0",r:"16",fill:"#ef4444"},null,-1)),o[7]||(o[7]=e("path",{d:"M -8 -8 L 8 8",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round"},null,-1)),o[8]||(o[8]=e("path",{d:"M -8 8 L 8 -8",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round"},null,-1))],64)):L("",!0)],8,ne)):L("",!0)],8,oe)),n.$slots.default?(c(),v("div",re,[se(n.$slots,"default",{},void 0)])):L("",!0)],14,te))}}),F=R(ue,[["__scopeId","data-v-b3a4e6bd"]]),ie={class:"home"},de={class:"main-content"},ce={class:"demo-section"},ve={class:"examples"},me={class:"example-card"},ge={class:"controls"},he={class:"value-label"},pe={class:"example-card"},fe={class:"controls"},we={class:"value-label"},be={class:"demo-section"},xe={class:"status-grid"},ke={class:"status-info"},ye={class:"demo-section"},$e={class:"playground"},Ce={class:"playground-controls"},Pe={class:"control-group"},Te={class:"control-group"},Ve={class:"button-group"},Me=["onClick"],Ie={class:"control-group"},Le={class:"button-group"},ze=["onClick"],Be={class:"control-group"},Fe={class:"button-group"},Se=["disabled"],De={class:"playground-preview"},Ne={class:"preview-info"},Ae=H({__name:"HomeView",setup(r){const b=w(35),x=w(75),t=w([{status:"inProgress",value:65,label:"In Progress",description:"Цвет изменяется с прогрессом"},{status:"success",value:100,label:"Success",description:"Зеленая галочка"},{status:"warning",value:85,label:"Warning",description:"Желтый треугольник"},{status:"error",value:30,label:"Error",description:"Красный крестик"}]),a=w({progress:65,status:"inProgress",type:"circle",showText:!0,showIcon:!1}),g=m(()=>a.value.status==="inProgress"),p=["inProgress","success","warning","error"],h=["circle","dashboard"],P={inProgress:"In Progress",success:"Success",warning:"Warning",error:"Error"},u={circle:"Circle",dashboard:"Dashboard"},T=f=>{a.value.status=f,f==="inProgress"?(a.value.showText=!0,a.value.showIcon=!1):(a.value.showText=!1,a.value.showIcon=!0)};return(f,s)=>(c(),v("div",ie,[s[18]||(s[18]=e("header",{class:"header"},[e("h1",{class:"title"},"Vue 3 Круговой Прогресс Бар"),e("p",{class:"subtitle"},"Продвинутый, настраиваемый компонент индикатора прогресса")],-1)),e("main",de,[e("section",ce,[s[8]||(s[8]=e("h2",null,"Основные Примеры",-1)),e("div",ve,[e("div",me,[s[5]||(s[5]=e("h3",null,"Обычный прогресс-бар",-1)),z(F,{"model-value":b.value,size:100},null,8,["model-value"]),e("div",ge,[N(e("input",{type:"range","onUpdate:modelValue":s[0]||(s[0]=l=>b.value=l),min:"0",max:"100",class:"slider"},null,512),[[A,b.value,void 0,{number:!0}]]),e("span",he,d(b.value)+"%",1)])]),e("div",pe,[s[6]||(s[6]=e("h3",null,"Дашборд (270°)",-1)),z(F,{"model-value":x.value,type:"dashboard",size:100},null,8,["model-value"]),e("div",fe,[N(e("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=l=>x.value=l),min:"0",max:"100",class:"slider"},null,512),[[A,x.value,void 0,{number:!0}]]),e("span",we,d(x.value)+"%",1)]),s[7]||(s[7]=e("p",{class:"description"},"270° arc with rounded ends",-1))])])]),e("section",be,[s[9]||(s[9]=e("h2",null,"Примеры Состояний с Иконками",-1)),e("div",xe,[(c(!0),v(C,null,W(t.value,l=>(c(),v("div",{key:l.status,class:"status-card"},[z(F,{"model-value":l.value,status:l.status,size:90,"show-text":l.status==="inProgress","show-status-icon":l.status!=="inProgress"},null,8,["model-value","status","show-text","show-status-icon"]),e("div",ke,[e("span",{class:$(`status-badge status-${l.status}`)},d(l.label),3),e("p",null,d(l.description),1)])]))),128))])]),e("section",ye,[s[17]||(s[17]=e("h2",null,"Интерактивная Песочница",-1)),e("div",$e,[e("div",Ce,[e("div",Pe,[e("label",null,"Прогресс: "+d(a.value.progress)+"%",1),N(e("input",{type:"range","onUpdate:modelValue":s[2]||(s[2]=l=>a.value.progress=l),min:"0",max:"100",class:"slider wide"},null,512),[[A,a.value.progress,void 0,{number:!0}]])]),e("div",Te,[s[10]||(s[10]=e("label",null,"Статус",-1)),e("div",Ve,[(c(),v(C,null,W(p,l=>e("button",{key:l,onClick:k=>T(l),class:$({active:a.value.status===l})},d(P[l]),11,Me)),64))])]),e("div",Ie,[s[11]||(s[11]=e("label",null,"Тип",-1)),e("div",Le,[(c(),v(C,null,W(h,l=>e("button",{key:l,onClick:k=>a.value.type=l,class:$({active:a.value.type===l})},d(u[l]),11,ze)),64))])]),e("div",Be,[s[12]||(s[12]=e("label",null,"Режим отображения",-1)),e("div",Fe,[e("button",{onClick:s[3]||(s[3]=l=>{a.value.showText=!0,a.value.showIcon=!1}),class:$({active:a.value.showText&&!a.value.showIcon})}," Показать текст ",2),e("button",{onClick:s[4]||(s[4]=l=>{a.value.showText=!1,a.value.showIcon=!0}),class:$({active:!a.value.showText&&a.value.showIcon}),disabled:g.value}," Показать иконку ",10,Se)])])]),e("div",De,[z(F,{"model-value":a.value.progress,status:a.value.status,type:a.value.type,size:140,"stroke-width":10,"show-text":a.value.showText,"show-status-icon":a.value.showIcon},null,8,["model-value","status","type","show-text","show-status-icon"]),e("div",Ne,[e("p",null,[s[13]||(s[13]=e("strong",null,"Текущие настройки:",-1)),B(" "+d(a.value.progress)+"%",1)]),e("p",null,[s[14]||(s[14]=e("strong",null,"Статус:",-1)),B(" "+d(P[a.value.status]),1)]),e("p",null,[s[15]||(s[15]=e("strong",null,"Тип:",-1)),B(" "+d(u[a.value.type]),1)]),e("p",null,[s[16]||(s[16]=e("strong",null,"Режим:",-1)),B(" "+d(a.value.showText?"Текст":"")+" "+d(a.value.showIcon?"Иконка":""),1)])])])])])]),s[19]||(s[19]=e("footer",{class:"footer"},[e("p",null,"Vue 3 Круговой Прогресс Бар"),e("p",null,"Built with Vue 3 Composition API & SVG")],-1))]))}}),je=R(Ae,[["__scopeId","data-v-572f5132"]]);export{je as default};
