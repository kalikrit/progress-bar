import{d as G,r as x,w as D,o as _,n as j,a as ee,b as d,c,e as se,f as b,g as e,t as u,h as M,F as P,i as te,j as h,k as w,l as F,v as N,m as A,p as S}from"./index-jHFzjC8l.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const oe=["aria-valuenow","aria-valuemin","aria-valuemax","aria-label"],le=["width","height","viewBox"],ae=["r","stroke-width"],ne=["r","stroke-width","stroke-dasharray","stroke-dashoffset","stroke-linecap","transform"],re=["transform"],ue={key:0,class:"progress-center-slot"},W=100,ie=G({__name:"CircularProgressBar",props:{modelValue:{default:0},min:{default:0},max:{default:100},status:{default:"inProgress"},type:{default:"circle"},size:{default:120},strokeWidth:{default:8},showText:{type:Boolean,default:!0},showStatusIcon:{type:Boolean,default:!0},textFormat:{default:"percentage"},customText:{default:""},animationDuration:{default:800},ariaLabel:{default:""},color:{default:""},backgroundColor:{default:"#e5e7eb"},hideTextForStatus:{type:Boolean,default:!1}},emits:["update:modelValue","statusChange","animationComplete"],setup(r,{expose:y,emit:C}){const o=r,t=C,m=x(o.modelValue),p=x(o.modelValue),g=x(null),T=x(null),i=W/2,k=h(()=>{const n=i-o.strokeWidth/2;return Math.max(5,n)}),s=h(()=>2*Math.PI*k.value),a=h(()=>o.type==="dashboard"?-90:0),V=h(()=>o.type==="dashboard"?s.value*.75:s.value),H=h(()=>o.type==="dashboard"?"round":"butt"),O=h(()=>{const n=o.max-o.min;if(n===0)return 0;const v=(Math.min(Math.max(o.modelValue,o.min),o.max)-o.min)/n*100;return isNaN(v)?0:v}),Y=h(()=>{const l=m.value/100*V.value;return V.value-l}),Z=h(()=>o.textFormat==="custom"&&o.customText?o.customText:o.textFormat==="value"?`${Math.round(o.modelValue)}`:`${Math.round(m.value)}%`),B=h(()=>{if(o.color)return o.color;if(o.status!=="inProgress")return{success:"#10b981",warning:"#f59e0b",error:"#ef4444"}[o.status]||"#3b82f6";const n=m.value;let l,v;return n<50?(l=255,v=Math.round(5.1*n)):(l=Math.round(510-5.1*n),v=255),`rgb(${l}, ${v}, 0)`}),J=h(()=>o.backgroundColor),I=()=>{T.value&&(T.value.style.stroke=B.value)},R=(n,l,v)=>{g.value&&cancelAnimationFrame(g.value);const z=performance.now(),L=n,K=l-L,U=Q=>{const X=Q-z,$=Math.min(X/v,1),E=$<.5?4*$*$*$:1-Math.pow(-2*$+2,3)/2;m.value=L+K*E,p.value=Math.round(m.value),I(),$<1?g.value=requestAnimationFrame(U):(m.value=l,p.value=Math.round(l),g.value=null,I(),t("animationComplete",l))};g.value=requestAnimationFrame(U)};return D(()=>o.modelValue,(n,l)=>{const v=((l??0)-o.min)/(o.max-o.min)*100,z=(n-o.min)/(o.max-o.min)*100||0;R(v,z,o.animationDuration)},{immediate:!0}),D(()=>o.status,(n,l)=>{t("statusChange",{newStatus:n,oldStatus:l})}),D(B,(n,l)=>{j(()=>{I()})},{immediate:!0}),_(()=>{m.value=O.value,p.value=Math.round(O.value),j(I),setTimeout(I,100)}),ee(()=>{g.value&&cancelAnimationFrame(g.value)}),y({getCurrentValue:()=>p.value,getCurrentColor:()=>B.value,animateTo:(n,l)=>{const v=(n-o.min)/(o.max-o.min)*100;R(m.value,v,l||o.animationDuration)}}),(n,l)=>(d(),c("div",{class:b(["circular-progress-bar",`status--${r.status} type--${r.type}`]),role:"progressbar","aria-valuenow":p.value,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-label":r.ariaLabel||`Progress: ${p.value}%`,style:se({"--progress-bg":J.value,"--size":`${r.size}px`})},[(d(),c("svg",{width:r.size,height:r.size,viewBox:`0 0 ${W} ${W}`,class:"progress-svg"},[e("circle",{class:"progress-background",cx:i,cy:i,r:k.value,"stroke-width":r.strokeWidth,fill:"none"},null,8,ae),e("circle",{ref_key:"progressCircleRef",ref:T,class:"progress-circle",cx:i,cy:i,r:k.value,"stroke-width":r.strokeWidth,fill:"none","stroke-dasharray":s.value,"stroke-dashoffset":Y.value,"stroke-linecap":H.value,transform:`rotate(${a.value} ${i} ${i})`},null,8,ne),r.showText&&!r.hideTextForStatus?(d(),c("text",{key:0,x:i,y:i,"text-anchor":"middle","dominant-baseline":"central",class:"progress-text"},u(Z.value),1)):M("",!0),r.showStatusIcon&&r.status!=="inProgress"&&!r.showText?(d(),c("g",{key:1,transform:`translate(${i}, ${i})`,class:"status-icon"},[r.status==="success"?(d(),c(P,{key:0},[l[0]||(l[0]=e("circle",{cx:"0",cy:"0",r:"16",fill:"#10b981"},null,-1)),l[1]||(l[1]=e("path",{d:"M -6 -2 L -2 2 L 6 -6",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",transform:"rotate(45)"},null,-1)),l[2]||(l[2]=e("path",{d:"M -6 4 L -2 8 L 6 0",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",transform:"rotate(45)"},null,-1))],64)):r.status==="warning"?(d(),c(P,{key:1},[l[3]||(l[3]=e("path",{d:"M 0 -12 L 10 8 L -10 8 Z",fill:"#f59e0b"},null,-1)),l[4]||(l[4]=e("circle",{cx:"0",cy:"4",r:"1.5",fill:"white"},null,-1)),l[5]||(l[5]=e("rect",{x:"-1",y:"6",width:"2",height:"3",fill:"white",rx:"0.5"},null,-1))],64)):r.status==="error"?(d(),c(P,{key:2},[l[6]||(l[6]=e("circle",{cx:"0",cy:"0",r:"16",fill:"#ef4444"},null,-1)),l[7]||(l[7]=e("path",{d:"M -8 -8 L 8 8",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round"},null,-1)),l[8]||(l[8]=e("path",{d:"M -8 8 L 8 -8",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round"},null,-1))],64)):M("",!0)],8,re)):M("",!0)],8,le)),n.$slots.default?(d(),c("div",ue,[te(n.$slots,"default",{},void 0)])):M("",!0)],14,oe))}}),f=q(ie,[["__scopeId","data-v-da63e95c"]]),de={class:"home"},ce={class:"main-content"},ve={class:"demo-section"},me={class:"examples"},ge={class:"example-card"},he={class:"controls"},pe={class:"value-label"},we={class:"example-card"},fe={class:"controls"},xe={class:"value-label"},ke={class:"demo-section"},be={class:"status-grid"},ye={class:"status-info"},Ce={class:"demo-section"},Te={class:"playground"},$e={class:"playground-controls"},Pe={class:"control-group"},Ie={class:"control-group"},Ve={class:"button-group"},ze=["onClick"],Me={class:"control-group"},Se={class:"button-group"},Be=["onClick"],Le={class:"control-group"},De={class:"button-group"},Fe={class:"playground-preview"},Ne={class:"preview-info"},Ae={class:"demo-section"},We={class:"icons-showcase"},Oe={class:"icon-example"},Re={class:"icon-example"},Ue={class:"icon-example"},je={class:"icon-example"},Ge=G({__name:"HomeView",setup(r){const y=x(35),C=x(75),o=x([{status:"inProgress",value:65,label:"In Progress",description:"Color changes with progress"},{status:"success",value:100,label:"Success",description:"Green checkmark icon"},{status:"warning",value:85,label:"Warning",description:"Yellow warning triangle"},{status:"error",value:30,label:"Error",description:"Red cross icon"}]),t=x({progress:65,status:"inProgress",type:"circle",showText:!0,showIcon:!1}),m=["inProgress","success","warning","error"],p=["circle","dashboard"],g={inProgress:"In Progress",success:"Success",warning:"Warning",error:"Error"},T={circle:"Circle",dashboard:"Dashboard"},i=k=>{t.value.status=k,k==="inProgress"?(t.value.showText=!0,t.value.showIcon=!1):(t.value.showText=!1,t.value.showIcon=!0)};return(k,s)=>(d(),c("div",de,[s[28]||(s[28]=e("header",{class:"header"},[e("h1",{class:"title"},"Vue 3 Круговой Прогресс Бар"),e("p",{class:"subtitle"},"Продвинутый, настраиваемый компонент индикатора прогресса")],-1)),e("main",ce,[e("section",ve,[s[9]||(s[9]=e("h2",null,"Основные Примеры",-1)),e("div",me,[e("div",ge,[s[6]||(s[6]=e("h3",null,"Default Progress Bar",-1)),w(f,{"model-value":y.value,size:100},null,8,["model-value"]),e("div",he,[F(e("input",{type:"range","onUpdate:modelValue":s[0]||(s[0]=a=>y.value=a),min:"0",max:"100",class:"slider"},null,512),[[N,y.value,void 0,{number:!0}]]),e("span",pe,u(y.value)+"%",1)])]),e("div",we,[s[7]||(s[7]=e("h3",null,"Dashboard Type",-1)),w(f,{"model-value":C.value,type:"dashboard",size:100},null,8,["model-value"]),e("div",fe,[F(e("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=a=>C.value=a),min:"0",max:"100",class:"slider"},null,512),[[N,C.value,void 0,{number:!0}]]),e("span",xe,u(C.value)+"%",1)]),s[8]||(s[8]=e("p",{class:"description"},"270° arc with rounded ends",-1))])])]),e("section",ke,[s[10]||(s[10]=e("h2",null,"Примеры Состояний",-1)),e("div",be,[(d(!0),c(P,null,A(o.value,a=>(d(),c("div",{key:a.status,class:"status-card"},[w(f,{"model-value":a.value,status:a.status,size:90,"show-text":a.status==="inProgress","show-status-icon":a.status!=="inProgress"},null,8,["model-value","status","show-text","show-status-icon"]),e("div",ye,[e("span",{class:b(`status-badge status-${a.status}`)},u(a.label),3),e("p",null,u(a.description),1)])]))),128))])]),e("section",Ce,[s[18]||(s[18]=e("h2",null,"Интерактивная Песочница",-1)),e("div",Te,[e("div",$e,[e("div",Pe,[e("label",null,"Progress: "+u(t.value.progress)+"%",1),F(e("input",{type:"range","onUpdate:modelValue":s[2]||(s[2]=a=>t.value.progress=a),min:"0",max:"100",class:"slider wide"},null,512),[[N,t.value.progress,void 0,{number:!0}]])]),e("div",Ie,[s[11]||(s[11]=e("label",null,"Status",-1)),e("div",Ve,[(d(),c(P,null,A(m,a=>e("button",{key:a,onClick:V=>i(a),class:b({active:t.value.status===a})},u(g[a]),11,ze)),64))])]),e("div",Me,[s[12]||(s[12]=e("label",null,"Type",-1)),e("div",Se,[(d(),c(P,null,A(p,a=>e("button",{key:a,onClick:V=>t.value.type=a,class:b({active:t.value.type===a})},u(T[a]),11,Be)),64))])]),e("div",Le,[s[13]||(s[13]=e("label",null,"Display Mode",-1)),e("div",De,[e("button",{onClick:s[3]||(s[3]=a=>{t.value.showText=!0,t.value.showIcon=!1}),class:b({active:t.value.showText&&!t.value.showIcon})}," Show Text ",2),e("button",{onClick:s[4]||(s[4]=a=>{t.value.showText=!1,t.value.showIcon=!0}),class:b({active:!t.value.showText&&t.value.showIcon})}," Show Icon ",2),e("button",{onClick:s[5]||(s[5]=a=>{t.value.showText=!0,t.value.showIcon=!0}),class:b({active:t.value.showText&&t.value.showIcon})}," Both ",2)])])]),e("div",Fe,[w(f,{"model-value":t.value.progress,status:t.value.status,type:t.value.type,size:140,"stroke-width":10,"show-text":t.value.showText,"show-status-icon":t.value.showIcon,"hide-text-for-status":t.value.status!=="inProgress"},null,8,["model-value","status","type","show-text","show-status-icon","hide-text-for-status"]),e("div",Ne,[e("p",null,[s[14]||(s[14]=e("strong",null,"Current Value:",-1)),S(" "+u(t.value.progress)+"%",1)]),e("p",null,[s[15]||(s[15]=e("strong",null,"Status:",-1)),S(" "+u(g[t.value.status]),1)]),e("p",null,[s[16]||(s[16]=e("strong",null,"Type:",-1)),S(" "+u(T[t.value.type]),1)]),e("p",null,[s[17]||(s[17]=e("strong",null,"Display:",-1)),S(" "+u(t.value.showText?"Text":"")+" "+u(t.value.showText&&t.value.showIcon?"+ ":"")+" "+u(t.value.showIcon?"Icon":""),1)])])])])]),e("section",Ae,[s[27]||(s[27]=e("h2",null,"Демонстрация Иконок Состояний",-1)),e("div",We,[e("div",Oe,[s[19]||(s[19]=e("h3",null,"Success (100%)",-1)),w(f,{"model-value":100,status:"success",size:100,"show-text":!1,"show-status-icon":!0}),s[20]||(s[20]=e("p",null,"Green checkmark icon",-1))]),e("div",Re,[s[21]||(s[21]=e("h3",null,"Warning (85%)",-1)),w(f,{"model-value":85,status:"warning",size:100,"show-text":!1,"show-status-icon":!0}),s[22]||(s[22]=e("p",null,"Yellow warning triangle",-1))]),e("div",Ue,[s[23]||(s[23]=e("h3",null,"Error (30%)",-1)),w(f,{"model-value":30,status:"error",size:100,"show-text":!1,"show-status-icon":!0}),s[24]||(s[24]=e("p",null,"Red cross icon",-1))]),e("div",je,[s[25]||(s[25]=e("h3",null,"In Progress (65%)",-1)),w(f,{"model-value":65,status:"inProgress",size:100,"show-text":!0,"show-status-icon":!1}),s[26]||(s[26]=e("p",null,"Dynamic color + percentage",-1))])])])]),s[29]||(s[29]=e("footer",{class:"footer"},[e("p",null,"Vue 3 Circular Progress Bar Component"),e("p",null,"Built with Vue 3 Composition API & SVG")],-1))]))}}),Ye=q(Ge,[["__scopeId","data-v-dcd4a95a"]]);export{Ye as default};
